@model EditInvoiceViewModel
@{
    ViewBag.Title = "Invoice for edit";
}
<form method="post">
    <div class="row">
        <div class="form-group col-md-4">
            <label asp-for="OrderConfirmationNumber"></label>
            <select asp-for="OrderConfirmationNumber" class="form-control">
            <option value="">All</option>
                @foreach (var order in Model.OrderConfirmationNumbers)
                {
                    <option value="@order">@order</option>
                }

            </select>
        </div>
    </div>

    <div class="row col-md-4">
        <label asp-for="Date">Date of the Invoice</label>
        <input asp-for="Date" type="date" class="form-control" id="datepicker" >
    </div>
     <div class="row col-md-4">
        <label asp-for="TruckNumber">Truck Number</label>
        <input asp-for="TruckNumber" type="text" class="form-control">
    </div>

     <div class="row col-md-4">
        <label asp-for="NetWeight">Net Weight</label>
        <input asp-for="NetWeight" type="text" class="form-control">
    </div>
     <div class="row col-md-4">
        <label asp-for="GrossWeight">Gross Weight</label>
        <input asp-for="GrossWeight" type="text" class="form-control">
    </div>
       <div class="row col-md-4">
        <label asp-for="DeliveryCost">Delivery Cost</label>
        <input asp-for="DeliveryCost" type="text" class="form-control">
    </div>
    
    <div class="row col-md-4">
        <label asp-for="CurrencyExchangeRate">Currency Exchange Rate to BGN</label>
        <input asp-for="CurrencyExchangeRate" type="number"  min="0.00000" step="0.00001" class="form-control" >
    </div>

    <div class="row col-md-4">
        <label asp-for="CreditToInvoiceNumber">New Invoice N for Credit Note</label>
        <input asp-for="CreditToInvoiceNumber" type="number"  min="0" step="1" class="form-control" >
    </div>
      <div class="row col-md-4">
        <label asp-for="DebitToInvoiceNumber">New Invoice N for Debit Note</label>
        <input asp-for="DebitToInvoiceNumber" type="number"  min="0" step="1" class="form-control" >
    </div>

    @if(Model.Products.Count() > 0)
    {
        <p>Edit Products</p>
        <table>
            <thead>
                     <tr>                       
                            <th>Description</th>
                            <th>Size</th>
                            <th>Grade</th>
                            <th>FSC Claim</th>
                            <th>FSC Certificate</th>
                            <th>Unit</th>
                            <th>Unit Price/ Credit Note</th>             
                            <th>Unit Price/ Debit Note</th>    
                            <th>Quantity</th>                        
                        </tr>
            </thead>
            <tbody>
                     @for(var i=0; i< Model.Products.Count(); i++)
                     {
                         <tr>
                             <td class="col-sm-1">
                                 <div class="editor-field">
                                     <select asp-for="@Model.Products[i].DescriptionId">
                                        <option value="">All</option>
                                           @foreach (var description in Model.Products[i].Descriptions)
                                              {
                                                <option value="@description.Id">@description.Name</option>
                                              }
                                     </select>                                        
                                  </div>
                              </td>
                              <td class="col-sm-1">
                                 <div class="editor-field">
                                              <select asp-for="@Model.Products[i].GradeId">
                                           <option value="">All</option>
                                    @foreach (var grade in Model.Products[i].Grades)
                                              {
                                                <option value="@grade.Id">@grade.Name</option>
                                              }
                                       </select>  
                                          </div>
                                      </td>
                              <td class="col-sm-1">
                                 <div class="editor-field">
                                              <select asp-for="@Model.Products[i].SizeId">
                                            <option value="">All</option>
                                            @foreach (var size in Model.Products[i].Sizes)
                                               {
                                                <option value="@size.Id">@size.Name</option>
                                               }
                                      </select>  
                                 </div>
                              </td>
                                <td class="col-sm-1">
                                         <div class="editor-field">
                                                        <input asp-for="@Model.Products[i].FscClaim" type="text" class="form-control"/>
                                          </div>
                                      </td>
                                      <td class="col-sm-2">
                                         <div class="editor-field">
                                                        <input asp-for="@Model.Products[i].FscSertificate" type="text" class="form-control"/>
                                          </div>
                                      </td>
                                              <td class="col-sm-2">
                                         <div class="editor-field">
                                                        <input asp-for="@Model.Products[i].Unit" type="text" class="form-control"/>
                                          </div>
                                      </td>
                                              <td class="col-sm-2">
                                         <div class="editor-field">
                                                        <input asp-for="@Model.Products[i].CreditNotePrice" type="text" class="form-control"/>
                                          </div>
                                      </td>
                                              <td class="col-sm-2">
                                         <div class="editor-field">
                                                        <input asp-for="@Model.Products[i].DebitNotePrice" type="text" class="form-control"/>
                                          </div>
                                      </td>
                                              <td class="col-sm-2">
                                         <div class="editor-field">
                                                        <input asp-for="@Model.Products[i].Quantity" type="text" class="form-control"/>
                                          </div>
                                      </td>
                         </tr>                    
                     }
            </tbody>

        </table>
    }

    <button type="submit" class="btn btn-primary mt-3">Save</button>
</form>

    
        <script type="text/javascript">
    $(function () {
        $("#datepicker").datepicker();
    });
</script>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}